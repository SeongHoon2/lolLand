@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap');

#auctionApp{
  --surface:#171a22;--card:#1d212b;--muted:#9096a6;--text:#eef1f7;
  --accent:#ffd54d;--accent-2:#4da3ff;
  --danger:#ff6b6b;--success:#58d68d;--warn:#ffb84d;--border:#2a2f3a;
  --gap:12px;--radius:14px;--shadow:0 8px 24px rgba(0,0,0,.25);
  --kv-label-w: 92px;
  color:var(--text); font:12px/1.5 'Noto Sans KR',sans-serif;
}
#auctionApp,#auctionApp *{box-sizing:border-box}
#auctionApp .au-header{display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:linear-gradient(180deg,#151923,#11141b);border-bottom:1px solid var(--border);position:sticky;top:0;z-index:5}
#auctionApp .au-title{margin:0;font-size:18px;letter-spacing:.3px}
#auctionApp .au-status-badge{padding:4px 10px;border-radius:999px;background:var(--surface);border:1px solid var(--border);color:var(--muted);font-weight:600}
#auctionApp.container{max-width:1200px;margin:24px auto;padding:0 16px;display:grid;gap:var(--gap)}
#auctionApp .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:16px 16px 20px;box-shadow:var(--shadow)}
#auctionApp .card-title{margin:0 0 20px;font-size:18px}
#auctionApp .pill{background:var(--surface);border:1px solid var(--border);color:var(--muted);padding:4px 10px;border-radius:999px}
#auctionApp .row{display:flex;align-items:center}
#auctionApp .row.between{justify-content:space-between}
#auctionApp .row.end{justify-content:flex-end}
#auctionApp .row.gap{gap:var(--gap)}
#auctionApp .panel{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:14px}
#auctionApp .form-grid{display:grid;grid-template-columns:60px 1fr;gap:10px 12px;max-width:520px}
#auctionApp .form-grid input,#auctionApp .input-number{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:#0e1218;color:#eef1f7;outline:none}
#auctionApp .form-grid input:focus,#auctionApp .input-number:focus{border-color:#2b7cff}
#auctionApp .form-grid label{display:flex;align-items:center}
#auctionApp .btn{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:#0e1218;color:#fff;cursor:pointer;font-family:'Noto Sans KR',sans-serif}
#auctionApp .btn.sm{padding:6px 12px;font-size:12px;border-radius:8px}
#auctionApp .btn:hover{filter:brightness(1.05)}
#auctionApp .btn.primary{background:#2b7cff;border-color:#2b6fe0;font-weight:700}
#auctionApp .btn.success{background:#2ea66f;border-color:#25975f;font-weight:700;color:#fff}
#auctionApp .btn.success:hover{background:#249a5a;border-color:#1f834d}
#auctionApp .btn.danger{background:#d15252;border-color:#c14444;font-weight:700;color:#fff}
#auctionApp .list{list-style:none;margin:8px 0 0;padding:0}
#auctionApp .list li{padding:8px 10px;border-bottom:1px dashed var(--border);display:flex;justify-content:space-between;gap:8px;color:#c9ceda}
#auctionApp[data-state="STEP1"]{display:grid;place-items:center;padding:24px 16px}
#auctionApp[data-state="STEP1"] .step1{width:100%;max-width:340px;padding-bottom:24px}
#auctionApp #step1 #btnJoin{grid-column:1/-1;justify-self:center;min-width:80px;margin-top:10px}
#auctionApp #btnJoin{background:#2b7cff;border-color:#2b6fe0;color:#fff;font-weight:700}
#auctionApp #btnJoin:hover{filter:none;background:#1f6ae6;border-color:#1b5cd1}
#auctionApp #btnJoin:active{transform:translateY(1px)}
#auctionApp #btnJoin:focus-visible{outline:2px solid #8ab4ff;outline-offset:2px}
#auctionApp[data-state="STEP2"]{display:grid;place-items:center;padding:24px 16px}
#auctionApp[data-state="STEP2"] .step2{width:100%;max-width:380px;padding:20px}
#auctionApp #step2>.row.between{align-items:flex-start;margin-bottom:8px}
#auctionApp[data-state="STEP2"] .card{padding:12px 16px 16px}
#auctionApp #btnReady{background:#2b7cff;border-color:#2b6fe0;color:#fff;font-weight:700}
#auctionApp #btnReady:hover{filter:none;background:#1f6ae6;border-color:#1b5cd1}
#auctionApp #btnReady:active{transform:translateY(1px)}
#auctionApp #btnStart{background:#2ea66f;border-color:#25975f;color:#fff;font-weight:700}
#auctionApp #btnStart:hover{background:#249a5a;border-color:#1f834d}
#auctionApp #leaderList li .online{color:#2b7cff;font-weight:600}
#auctionApp #leaderList li .offline{color:#9096a6}
#auctionApp[data-state="STEP2"] .row.end{padding-top:10px}
#auctionApp[data-state="STEP3"] .au-status-badge{background:#101c12;color:#58d68d}
#auctionApp [data-admin-only="true"]{display:none !important}
body.admin #auctionApp [data-admin-only="true"]{display:inline-flex !important}
body.admin #auctionApp #btnReady{display:none !important}
#auctionApp .is-disabled{opacity:.6;cursor:not-allowed}
body[data-state="STEP3"] #auctionApp.container{
  width:1500px;max-width:calc(100vw - 32px);margin-left:auto;margin-right:auto;
}
#auctionApp #step3 .au-grid-2.tight{
  display:grid;grid-template-columns:900px 600px;gap:var(--gap);margin-top:12px;
}
#auctionApp #step3 .tbl-scroll{overflow:visible;border:1px solid var(--border);border-radius:10px;background:#0e1218}
#auctionApp #step3 .tbl-scroll.tall.players{max-height:566px;overflow:auto}
#auctionApp #step3 table.sheet{width:100%;border-collapse:collapse}
#auctionApp #step3 table.sheet thead th{background:#111722;color:#aab0bf}
#auctionApp #step3 table.sheet th,#auctionApp #step3 table.sheet td{border:1px solid var(--border);padding:6px 8px;text-align:center;vertical-align:middle}
#auctionApp #teamSheet{font-size:11px}
#auctionApp #teamSheet tbody td{padding:3px 6px;line-height:1.15}
#auctionApp #teamSheet colgroup col:nth-child(1),
#auctionApp #teamSheet colgroup col:nth-child(2),
#auctionApp #teamSheet colgroup col:nth-child(3){width:70px !important}
#auctionApp #teamSheet colgroup col:nth-child(4){width:110px !important}
#auctionApp #step3 .num{text-align:right}
#auctionApp #step3 .used{color:#ff9b62}
#auctionApp #step3 .left{color:#58d68d;font-weight:700}
#auctionApp #step3 td.sec{background:#0f1420;color:#cbd1df;font-weight:700}
#auctionApp #step3 td.nick{font-weight:700}
#auctionApp #step3 td.point{color:var(--accent)}
#auctionApp #step3 td.point.num{text-align:right}
#auctionApp #step3 td.tier{color:#9ca3af}
#auctionApp #step3 td.pos{color:var(--accent-2, #4da3ff)}
#auctionApp #step3 .console{margin-top:14px;padding:18px;border:1px dashed var(--border);border-radius:10px}
#auctionApp #step3 .console.tall-console{min-height:390px}
#auctionApp #step3 .kv-row{display:grid;grid-template-columns:1fr;gap:12px;margin-bottom:8px}
#auctionApp #step3 .kv-row.two{grid-template-columns:1fr !important}
#auctionApp #step3 .console .kv{
  display:flex;align-items:center;gap:10px;background:#0e1218;border:1px solid var(--border);
  padding:12px 14px;border-radius:14px
}
#auctionApp #step3 .console .kv .k{
  flex:0 0 var(--kv-label-w);
  width:var(--kv-label-w);
  min-width:var(--kv-label-w);
  font-size:14px;color:#9096a6;text-align:left;white-space:nowrap
}
#auctionApp #step3 .console .kv .v{
  flex:1 1 auto;display:flex;align-items:center;justify-content:center;
  text-align:center;font-weight:800;font-size:24px;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap
}
#auctionApp #step3 .console .kv .v#countdown{font-size:28px}
#auctionApp #step3 .controls{width:100%;margin-top:12px;}
#auctionApp #step3 .controls .ig{display:flex;width:100%;gap:8px}
#auctionApp #step3 .controls .ig input#bidAmount.input-number{
  flex:1 1 auto;min-width:160px;text-align:center;height:56px;font-size:30px;padding:12px 14px;border-radius:10px
}
#auctionApp #step3 .controls .ig .btn{
  flex:0 0 auto;height:56px;font-size:18px;padding:0 20px;border-radius:10px
}
#auctionApp #step3 .console .hint{margin-top:8px}
#playerTable tr.current td{background:rgba(77,163,255,.12)}
#playerTable tr.leading{opacity:.8}
#playerTable tr.sold td{background:rgba(150,155,165,.18)}
#playerTable tr.won td{text-decoration:overline}
#auctionApp #step3 .tbl-scroll.tall.players.compact-players{max-height:418px}
#auctionApp #step3 input[type=number]::-webkit-inner-spin-button,
#auctionApp #step3 input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}
#auctionApp #step3 input[type=number]{-moz-appearance:textfield;appearance:textfield}
.muted{opacity:.7}
#auctionApp #step3 .kv-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
#auctionApp #step3 .kv.two-line{
  display: flex !important;
  flex-direction: column !important;
  align-items: center !important;
  justify-content: center !important;
  height: 110px;
  padding: 12px 14px;
  gap: 6px;
}
#auctionApp #step3 .kv.two-line .k{
  flex: none !important;
  text-align: center !important;
  font-size: 14px;
  color: #9096a6;
}
#auctionApp #step3 .kv.two-line .v{
  flex: none !important;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: 800;
  font-size: 24px;
}

#auctionApp #step3 .kv.two-line .v#countdown{
  font-size: 30px;
}
#auctionApp #step3 .kv-grid{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 12px;
}
#auctionApp #step3 .kv.two-line .v#bidStatus{
  display:block;
  max-width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  white-space:nowrap;
}
#auctionApp #step3 #myBudgetHold{
  font-size:14px;
  opacity:.75;
  margin-left:6px;
}
#auctionApp #step3 .kv.two-line .v#bidStatus {
  display: block;
  width: 220px;
  max-width: 220px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  text-align: center;
  margin: 0 auto;
}

#auctionApp #step3 .kv.two-line .v {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px; /* 숫자와 잔여 사이 약간의 여백 */
}

#auctionApp #step3 #myBudgetHold {
  font-size: 12px;
  opacity: .75;
  margin: 0;
  line-height: 1;
}

#auctionApp #teamSheet td.leader.nick,
#auctionApp #teamSheet td.m1.nick,
#auctionApp #teamSheet td.m2.nick,
#auctionApp #teamSheet td.m3.nick,
#auctionApp #teamSheet td.m4.nick {
  width: auto !important;          /* ← 126px 제거 */
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;              /* 말줄임 위해 유지 */
}

#auctionApp #playerBody tr.won td { text-decoration: none !important; }

/* 낙찰가(포인트) 칸만 강조 색 유지 */
#auctionApp #teamSheet td.point:not(.num) { color: var(--accent) !important; }

/* 포지션/티어도 흰색 고정 (기존 파란/회색 제거) */
#auctionApp #step3 #teamSheet td.tier,
#auctionApp #step3 #teamSheet td.pos { color:#fff !important; }


#teamSheet { table-layout: fixed; width:100%; }
#teamSheet colgroup col:nth-child(n+5) {
  width: calc((100% - 320px) / 5) !important;
}

/* 더 강한 점프 */
@keyframes auBumpStrong {
  0% { transform: scale(1); }
  35% { transform: scale(1.18); }
  100% { transform: scale(1); }
}
.au-bump-strong { animation: auBumpStrong 260ms cubic-bezier(.2,.9,.2,1) 1; will-change: transform; }

/* 금색 글로우(텍스트색 살짝 밝아지고 광채 확산 후 소멸) */
@keyframes auGlow {
  0%   { color:#ffd54d; text-shadow: 0 0 0 rgba(255,213,77,.0); }
  25%  { color:#ffe27a; text-shadow: 0 0 10px rgba(255,213,77,.55), 0 0 18px rgba(255,213,77,.35); }
  100% { color:inherit; text-shadow: none; }
}
.au-glow { animation: auGlow 420ms ease-out 1; }

/* 얇은 하이라이트 바 스윕(좌→우로 한 번) */
@keyframes auSweepThin {
  0%   { transform: translateX(-120%); opacity:.0; }
  10%  { opacity:.35; }
  100% { transform: translateX(220%); opacity:0; }
}
#currentPrice {
  display:inline-block;
  position:relative;
  transform-origin:center center;
}
#currentPrice.au-sweep::after{
  content:"";
  position:absolute; top:50%; left:0; width:100%; height:38%;
  transform: translate(-120%, -50%);
  background: linear-gradient(90deg, transparent, rgba(255,213,77,.28), transparent);
  border-radius: 8px;
  animation: auSweepThin 480ms ease-out 1;
  pointer-events:none;
}

@media (prefers-reduced-motion: reduce) {
  .au-bump-strong, .au-glow, #currentPrice.au-sweep::after { animation: none !important; }
}

.au-bump-strong { animation-duration: 420ms !important; }  /* FX_CONF.bumpMs에 맞춤 */
.au-glow        { animation-duration: 720ms !important; }  /* FX_CONF.glowMs   */
#currentPrice.au-sweep::after { animation-duration: 720ms !important; } /* FX_CONF.sweepMs */
#bidStatus{ display:inline-block; position:relative; transform-origin:center center; }

/* STEP4 요약 전용 */
#auctionApp[data-state="STEP4"] { display:grid; place-items:initial; padding:24px 16px; }
#auctionApp #step4 .tbl-scroll.tall { max-height:566px; overflow:auto; }
#auctionApp #step4 table.sheet td, 
#auctionApp #step4 table.sheet th { text-align:center; }
#auctionApp #step4 .member-chip {
  display:inline-block; margin:2px 4px; padding:4px 8px; border-radius:999px;
  background:#0e1218; border:1px solid var(--border); color:#cbd1df; font-size:11px;
}
#auctionApp #step4 .member-chip .price { color:var(--accent); font-weight:800; margin-left:6px; }
#auctionApp #step4 .member-chip .pos   { color:var(--accent-2); margin-left:6px; }
